spotless {
    java {
        target 'src/**/*.java'
        googleJavaFormat()
    }
}

pmd {
    toolVersion = "${pmdVersion}"
    sourceSets = [sourceSets.main]
    ruleSetFiles = files("${rootDir}/config/pmd/ruleset.xml")
    ruleSets = []
}

sonarqube {
    properties {
        property "sonar.projectKey", "template-service"
        property "sonar.host.url", "https://sonarqube.example.com"
    }
}

checkstyle {
    toolVersion = "${checkstyleVersion}"
    configFile = file("${projectDir}/config/checkstyle/checkstyle.xml")

}

tasks.withType(Checkstyle) {
    reports {
        xml.required = true
        html.required = false
        html.stylesheet = resources.text.fromFile('config/checkstyle/checkstyle.xml')
    }
}